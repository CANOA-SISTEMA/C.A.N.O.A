<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Campo Invisível — Hegemol</title>
  <style>
    :root{
      --bg:#000;
      --text:#bdbdbd;
      --accent:#9f0000;
      --underline:#444;
    }
    html,body{
      height:100%;
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* center area */
    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:24px;
      padding:40px;
      box-sizing:border-box;
    }

    .hint{
      color:var(--text);
      opacity:.9;
      font-size:18px;
      letter-spacing:1px;
    }

    /* underline boxes */
    .password-line{
      display:flex;
      gap:12px;
      align-items:flex-end;
      justify-content:center;
    }
    .char{
      width:34px;
      height:44px;
      border-bottom:3px solid var(--underline);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      box-sizing:border-box;
      position:relative;
      transition:transform .12s ease, border-color .15s;
    }
    .char.filled{
      border-bottom-color:var(--accent);
      transform:translateY(-2px);
    }

    /* invisible input sits above the boxes to receive typing */
    input#hiddenInput{
      position:absolute;
      opacity:0;
      pointer-events:auto;
      width:1px;
      height:1px;
      left:-9999px; /* keep it offscreen but focused by JS */
    }

    /* small status text */
    .status{
      color:var(--text);
      opacity:.85;
      font-size:14px;
    }

    /* wrong attempt shake */
    .shake{
      animation:shake .36s;
    }
    @keyframes shake{
      10%{transform:translateX(-6px)}
      30%{transform:translateX(6px)}
      50%{transform:translateX(-4px)}
      70%{transform:translateX(4px)}
      100%{transform:translateX(0)}
    }

    /* overlay that appears after 3 errors */
    .insult-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.95);
      display:none;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      z-index:9999;
      pointer-events:none;
    }
    .insult-overlay.show{ display:flex; pointer-events:auto; }

    .insults{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
    .insults span{
      position:absolute;
      font-weight:800;
      font-size:clamp(18px, 4vw, 56px);
      color:rgba(255,50,50,.12);
      transform:rotate(-8deg);
      text-transform:uppercase;
      letter-spacing:1px;
      text-shadow:0 1px 0 rgba(0,0,0,.8);
      animation:floatUp 4s linear infinite;
      mix-blend-mode:overlay;
      white-space:nowrap;
    }
    @keyframes floatUp{
      0%{ transform: translateY(0) rotate(-6deg); opacity:.06; }
      50%{ opacity:.6; }
      100%{ transform: translateY(-80vh) rotate(6deg); opacity:0; }
    }

    /* bottom progress bar */
    .bottom-bar{
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      height:6px;
      background:rgba(255,255,255,.03);
      z-index:10000;
      display:none;
    }
    .bottom-bar.show{ display:block; }
    .bottom-bar .fill{
      height:100%;
      width:0%;
      background:linear-gradient(90deg, rgba(160,0,0,1), rgba(220,60,60,.9));
      transition:width .1s linear;
    }

    /* success message */
    .success{
      color: #b7ffb7;
      font-weight:700;
      letter-spacing:1px;
      font-size:18px;
    }

    /* small helper */
    .note{ font-size:12px; color:#7a7a7a; margin-top:6px; }
  </style>
</head>
<body>
  <div class="wrap" onclick="document.getElementById('hiddenInput').focus()">
    <div class="hint">3 chances</div>

    <div class="password-line" aria-hidden="true" id="boxes">
      <!-- 7 underlines (H e g e m o l = 7) -->
      <div class="char" data-index="0"></div>
      <div class="char" data-index="1"></div>
      <div class="char" data-index="2"></div>
      <div class="char" data-index="3"></div>
      <div class="char" data-index="4"></div>
      <div class="char" data-index="5"></div>
      <div class="char" data-index="6"></div>
    </div>

    <input id="hiddenInput" type="password" maxlength="7" autocomplete="off" inputmode="latin"
           aria-label="campo invisível para senha" />

    <div class="status" id="status">Digite a senha (preste atenção: letras exatas)</div>
    <div class="note">O campo é invisível — clique em qualquer lugar e comece a digitar.</div>

    <div class="success" id="successMsg" style="display:none">Senha correta — Acesso liberado</div>
  </div>

  <!-- overlay insults -->
  <div class="insult-overlay" id="overlay">
    <div class="insults" id="insultsContainer"></div>
  </div>

  <!-- progress bar -->
  <div class="bottom-bar" id="progressWrap">
    <div class="fill" id="progressFill"></div>
  </div>

  <script>
    (function(){
      const PASSWORD = "Hegemol"; // senha exata (case-sensitive)
      const INPUT = document.getElementById('hiddenInput');
      const BOXES = Array.from(document.querySelectorAll('.char'));
      const STATUS = document.getElementById('status');
      const SUCCESS = document.getElementById('successMsg');
      const OVERLAY = document.getElementById('overlay');
      const INSULTS = document.getElementById('insultsContainer');
      const PROGWRAP = document.getElementById('progressWrap');
      const PROGFILL = document.getElementById('progressFill');

      let attempts = 0;
      let animTimeout = null;
      let progressInterval = null;

      // Populate random insults when needed (but keep them as plain text)
      const WORDS = ["idiota", "desiste", "nem perde tempo tentando"];

      // keep focus ready
      INPUT.focus();

      function updateBoxes(value){
        // Update underline visuals; characters themselves stay invisible (by design).
        for(let i=0;i<BOXES.length;i++){
          if(i < value.length){
            BOXES[i].classList.add('filled');
            BOXES[i].textContent = ""; // no visible char -> invisible field
          } else {
            BOXES[i].classList.remove('filled');
            BOXES[i].textContent = "";
          }
        }
      }

      function handleWrongAttempt(){
        attempts++;
        STATUS.textContent = `Senha incorreta — tentativas: ${attempts} / 3`;
        // shake animation
        const line = document.querySelector('.password-line');
        line.classList.remove('shake');
        void line.offsetWidth;
        line.classList.add('shake');

        // clear input after short delay so user can try again
        setTimeout(()=>{ INPUT.value = ""; updateBoxes(""); INPUT.focus(); }, 250);

        if(attempts >= 3){
          triggerInsults();
        }
      }

      function triggerInsults(){
        // build many floating insults
        INSULTS.innerHTML = "";
        const count = 36; // number of words on screen
        const w = window.innerWidth;
        const h = window.innerHeight;
        for(let i=0;i<count;i++){
          const span = document.createElement('span');
          span.textContent = WORDS[i % WORDS.length];
          // random position
          const left = Math.random() * (w * 0.9);
          const top = Math.random() * (h * 0.9);
          const rot = (Math.random()*40)-20;
          span.style.left = `${left}px`;
          span.style.top = `${top}px`;
          span.style.transform = `rotate(${rot}deg)`;
          span.style.opacity = (0.04 + Math.random()*0.6).toString();
          span.style.fontSize = `${14 + Math.random()*60}px`;
          INSULTS.appendChild(span);
        }

        // show overlay and start bottom progress
        OVERLAY.classList.add('show');
        PROGWRAP.classList.add('show');
        PROGFILL.style.width = '0%';
        let percent = 0;
        // increase 1% at a time
        progressInterval = setInterval(()=>{
          percent++;
          PROGFILL.style.width = percent + '%';
          if(percent >= 100){
            clearInterval(progressInterval);
            // hide everything after a short fade
            setTimeout(()=> {
              OVERLAY.classList.remove('show');
              PROGWRAP.classList.remove('show');
              INSULTS.innerHTML = "";
              PROGFILL.style.width = '0%';
              attempts = 0; // reset attempts after the sequence
              STATUS.textContent = 'Você pode tentar novamente.';
              INPUT.value = "";
              updateBoxes("");
              INPUT.focus();
            }, 300);
          }
        }, 60); // ~6 seconds to reach 100% (60ms * 100). You can adjust timing here.
      }

      function handleSuccess(){
        SUCCESS.style.display = "block";
        STATUS.style.display = "none";
        // subtle success effect
        BOXES.forEach(b=> b.style.borderBottomColor = "#b7ffb7");
        // lock input
        INPUT.blur();
        INPUT.disabled = true;
      }

      // input listening
      INPUT.addEventListener('input', (e)=>{
        const v = e.target.value;
        // keep only max length
        updateBoxes(v);
        // When full length reached, validate
        if(v.length === PASSWORD.length){
          if(v === PASSWORD){
            handleSuccess();
          } else {
            handleWrongAttempt();
          }
        }
      });

      // Allow Enter to submit early if user typed less than length
      INPUT.addEventListener('keydown', (e)=>{
        if(e.key === "Enter"){
          const val = INPUT.value;
          if(val.length === PASSWORD.length){
            if(val === PASSWORD) handleSuccess();
            else handleWrongAttempt();
          } else {
            // treat Enter as attempt only if non-empty
            if(val.length > 0){
              // pad or compare with same-length rule: require exact length, so this counts as wrong
              handleWrongAttempt();
            }
          }
          e.preventDefault();
        }
      });

      // click anywhere focuses input
      document.body.addEventListener('click', ()=> INPUT.focus());
      // also ensure focus on load
      window.addEventListener('load', ()=> INPUT.focus());
    })();
  </script>
</body>
</html>


</script>
</body>
</html>
